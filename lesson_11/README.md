# Домашнее задание к занятию «Микросервисы: принципы»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: API Gateway 

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- маршрутизация запросов к нужному сервису на основе конфигурации,
- возможность проверки аутентификационной информации в запросах,
- обеспечение терминации HTTPS.

Обоснуйте свой выбор.


### Ответ:
---

### Сравнительная таблица возможностей API Gateway

| Критерий/Решение         | Kong                                   | Apigee                  | AWS API Gateway      |
| ------------------------ | -------------------------------------- | ----------------------- | -------------------- |
| Маршрутизация запросов   | Поддерживается                         | Поддерживается          | Поддерживается       |
| Проверка аутентификации  | Поддержка плагинов                     | Расширенные возможности | Интеграция с AWS IAM |
| Терминация HTTPS         | Поддерживается                         | Поддерживается          | Поддерживается       |
| Расширяемость            | Высокая через плагины                  | Ограниченная            | Ограниченная         |
| Поддержка и стабильность | Хорошая                                | Отличная                | Отличная             |
| Бесплатно/Открыто        | Открытое ПО, бесплатная базовая версия | Платное                 | Платный сервис       |

### Обоснование выбора

**Kong** предоставляет мощную платформу с открытым исходным кодом и бесплатной версией, что делает его доступным и адаптируемым к различным требованиям и бюджетам. Это идеальный выбор для организаций, стремящихся к гибкости в настройке и расширении своих API Gateway без значительных начальных инвестиций.

**Apigee** является лидером для крупных предприятий, предлагая обширные возможности управления и аналитики API, но при этом требует значительных инвестиций.

**AWS API Gateway** эффективно интегрируется с другими сервисами AWS, предлагая удобное и эффективное решение для текущих пользователей AWS, готовых платить за использование по мере роста сервиса.

### Рекомендация

Выбор **Kong** как API Gateway представляется наиболее подходящим для компаний, ищущих гибкое и масштабируемое решение с возможностью начать работу без первоначальных капиталовложений, предлагая при этом пространство для роста и индивидуальной настройки.


---

## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- поддержка кластеризации для обеспечения надёжности,
- хранение сообщений на диске в процессе доставки,
- высокая скорость работы,
- поддержка различных форматов сообщений,
- разделение прав доступа к различным потокам сообщений,
- простота эксплуатации.

Обоснуйте свой выбор.

### Ответ:
---

### Сравнительная таблица возможностей брокеров сообщений

| Критерий/Решение                       | RabbitMQ       | Apache Kafka   | ActiveMQ       |
| -------------------------------------- | -------------- | -------------- | -------------- |
| Поддержка кластеризации                | Поддерживается | Поддерживается | Поддерживается |
| Хранение сообщений на диске            | Поддерживается | Поддерживается | Поддерживается |
| Высокая скорость работы                | Хорошая        | Отличная       | Хорошая        |
| Поддержка различных форматов сообщений | Ограничена     | Широкая        | Ограничена     |
| Разделение прав доступа                | Поддерживается | Поддерживается | Поддерживается |
| Простота эксплуатации                  | Средняя        | Сложная        | Высокая        |

### Обоснование выбора

**RabbitMQ** предлагает надежность и гибкость в настройке, но может не справиться с очень большими объемами данных так эффективно, как Kafka.

**Apache Kafka** специально разработан для обработки больших объемов данных в реальном времени и поддержки разнообразных форматов сообщений. Он предлагает высокую производительность и масштабируемость, что делает его идеальным выбором для систем, где эти аспекты критичны. Несмотря на сложность в эксплуатации, преимущества Kafka в скорости и масштабируемости делают его предпочтительным выбором для крупных предприятий.

**ActiveMQ** является хорошим выбором для тех, кто ищет простоту в использовании и достаточную производительность для менее интенсивных сценариев использования.

### Рекомендация

**Apache Kafka** рекомендуется для крупных проектов, требующих высокую производительность и масштабируемость. Этот брокер обеспечивает отличную скорость обработки и поддержку различных форматов данных, что делает его идеальным для обработки больших потоков информации.


---